<div class="character-search-container">
  <mat-card>
    <mat-card-header>
      <mat-card-title>
        <mat-icon>person_search</mat-icon>
        Search for a Character
      </mat-card-title>
    </mat-card-header>
    
    <mat-card-content>
      <form [formGroup]="searchForm" (ngSubmit)="onSubmit()" class="search-form">
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Realm</mat-label>
          <input
            matInput
            formControlName="realm"
            placeholder="e.g., Ragnaros"
            required
          />
          @if (searchForm.get('realm')?.hasError('required') && searchForm.get('realm')?.touched) {
            <mat-error>Realm is required</mat-error>
          }
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Character Name</mat-label>
          <input
            matInput
            formControlName="name"
            placeholder="e.g., Thrall"
            required
          />
          @if (searchForm.get('name')?.hasError('required') && searchForm.get('name')?.touched) {
            <mat-error>Character name is required</mat-error>
          }
        </mat-form-field>

        <div class="region-selector-wrapper">
          <app-region-selector
            [selectedRegion]="selectedRegion()"
            (regionChange)="onRegionChange($event)"
          ></app-region-selector>
        </div>

        <button
          mat-raised-button
          color="primary"
          type="submit"
          [disabled]="searchForm.invalid"
          class="search-button"
        >
          <mat-icon>search</mat-icon>
          Search Character
        </button>
      </form>
    </mat-card-content>
  </mat-card>
</div>
